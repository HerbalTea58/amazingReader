package com.amazingReader.control;

import com.amazingReader.entity.Book;
import com.amazingReader.service.Interface.BookService;
import com.amazingReader.service.Interface.RankingListService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.util.ArrayList;
import java.util.List;
@RequestMapping("/reader")
@Controller
public class nvpinControl {
    @Autowired
    private BookService bookService;
    @Autowired
    private RankingListService rankingListService;

    @RequestMapping("/womanChannel.action")
    public void getWomanBooks(HttpServletRequest request, HttpServletResponse response){
        //获得所有女频类型得到书籍
        List<Book> nvAllBooks=bookService.queryBooksOfWoman();
        //获得女频的热度排行榜 书籍
        List<Book> allBooksByHot=rankingListService.queryBookForHotOfWoman();
        //第一板块
        //top_left
        Book topLeft1=allBooksByHot.get(0);
        Book topLeft2=allBooksByHot.get(1);
        Book topLeft3=allBooksByHot.get(2);
        Book topLeft4=allBooksByHot.get(3);
        Book topLeft5=allBooksByHot.get(4);

        //top_mid_1
        List<Book> topMid1=new ArrayList<Book>();
        for (int i=5;i<10;i++){
            topMid1.add(allBooksByHot.get(i));//将书籍加入
        }

        //top_mid_2
        List<Book> topMid2=new ArrayList<Book>();
        for (int i=10;i<15;i++){
            topMid2.add(allBooksByHot.get(i));//将书籍加入
        }

        //top_mid_3
        List<Book> topMid3=new ArrayList<Book>();
        for (int i=15;i<20;i++){
            topMid3.add(allBooksByHot.get(i));//将书籍加入
        }

        //top_right_recommendRanking
        List<Book> recommends=rankingListService.queryBookForHotOfWoman();
    }
}
